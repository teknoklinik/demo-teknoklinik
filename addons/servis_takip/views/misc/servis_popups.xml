<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_servis_islem_satiri_popup_form" model="ir.ui.view">
        <field name="name">servis.islem.satiri.popup.form</field>
        <field name="model">servis.islem.satiri</field>
        <field name="arch" type="xml">
            <form string="Yapılan İşlem Detayı">
                <sheet>
                    <field name="tablo_duzenle" invisible="1"/>

                    <div class="d-flex justify-content-end" style="margin-bottom: 10px;" invisible="id == False">
                        <button name="action_tabloyu_ac_popup" string="Düzenlemeyi Aç" type="object" class="btn-primary" icon="fa-unlock" invisible="tablo_duzenle == True"/>

                        <button name="action_tabloyu_kilitle_popup" string="Değişiklikleri Kaydet" type="object" class="btn-success" icon="fa-lock" invisible="tablo_duzenle == False"/>
                    </div>

                    <group>
                        <group>
                            <field name="servis_kaydi_id" invisible="1"/>
                            <field name="islem_tipi_id" required="1" options="{'no_create': True, 'no_open': True}" readonly="id != False and tablo_duzenle == False"/>

                            <field name="personel_id" readonly="1" force_save="1"/>
                        </group>
                        <group>
                            <field name="tarih" readonly="1" force_save="1"/>
                            <field name="bitis_tarihi" readonly="1" force_save="1"/>
                        </group>
                    </group>
                    <group>
                        <field name="aciklama" placeholder="İşlem açıklamasını buraya yazınız..." readonly="id != False and tablo_duzenle == False"/>
                    </group>
                </sheet>
                <footer>
                    <button string="KAYDET VE GÜNCELLE" name="action_save_and_refresh" type="object" class="btn-primary" invisible="id != False"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="view_servis_durum_satiri_popup_form" model="ir.ui.view">
        <field name="name">servis.durum.satiri.popup.form</field>
        <field name="model">servis.durum.satiri</field>
        <field name="arch" type="xml">
            <form string="Durum Satırı Ekle">
                <sheet>
                    <field name="tablo_duzenle" invisible="1"/>
                    <div class="d-flex justify-content-end" style="margin-bottom: 10px;" invisible="id == False">
                        <button name="action_tabloyu_ac_popup" string="Düzenlemeyi Aç" type="object" class="btn-primary" icon="fa-unlock" invisible="tablo_duzenle == True"/>
                        <button name="action_tabloyu_kilitle_popup" string="Değişiklikleri Kaydet" type="object" class="btn-success" icon="fa-lock" invisible="tablo_duzenle == False"/>
                    </div>
                    <group>
                        <group>
                            <field name="servis_kaydi_id" invisible="1"/>
                            <field name="state" required="1" readonly="id != False and tablo_duzenle == False"/>
                        </group>
                        <group>
                            <field name="tarih" readonly="1" force_save="1"/>
                            <field name="bitis_tarihi" readonly="1" force_save="1"/>
                        </group>
                    </group>
                    <group>
                        <field name="aciklama" placeholder="Durum notu..." readonly="id != False and tablo_duzenle == False"/>
                    </group>
                </sheet>
                <footer>
                    <button string="KAYDET VE GÜNCELLE" name="action_save_and_refresh" type="object" class="btn-primary" invisible="id != False"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="view_servis_kaydi_dokuman_popup_form" model="ir.ui.view">
        <field name="name">servis.kaydi.dokuman.form.popup</field>
        <field name="model">servis.kaydi.dokuman</field>
        <field name="arch" type="xml">
            <form string="Doküman Detayı" edit="not id">
                <sheet>
                    <group>
                        <field name="konu" placeholder="Örn: Cihaz Teslim Tutanağı" readonly="id != False"/>
                        <field name="dokuman_dosya" widget="binary" filename="dokuman_dosya_isim" string="Dosyanızı Seçin" readonly="id != False"/>
                        <field name="dokuman_dosya_isim" invisible="1"/>
                    </group>
                    <field name="servis_kaydi_id" invisible="1"/>
                </sheet>
                <footer>
                    <button name="action_save_and_reload" string="KAYDET VE GÜNCELLE" type="object" class="btn-primary" invisible="id != False"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="view_servis_kaydi_notlar_popup_form" model="ir.ui.view">
        <field name="name">servis.kaydi.notlar.form.popup</field>
        <field name="model">servis.kaydi.notlar</field>
        <field name="arch" type="xml">
            <form string="Yeni Not Ekle" edit="not id">
                <sheet>
                    <group>
                        <field name="konu" placeholder="Notun konusunu yazınız..." required="1" readonly="id != False"/>
                        <field name="aciklama" placeholder="Not içeriği..." required="1" readonly="id != False"/>
                    </group>
                    <group invisible="1">
                        <field name="servis_kaydi_id"/>
                    </group>
                </sheet>
                <footer>
                    <button name="action_save_and_reload" string="KAYDET VE GÜNCELLE" type="object" class="btn-primary" invisible="id != False"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="view_imza_al_wizard_form" model="ir.ui.view">
        <field name="name">imza.al.wizard.form</field>
        <field name="model">imza.al.wizard</field>
        <field name="arch" type="xml">
            <form string="Müşteri İmzası Al">
                <sheet>
                    <group>
                        <group string="Bilgiler">
                            <field name="servis_kaydi_id" readonly="1"/>
                            <field name="musteri_id" readonly="1"/>
                            <field name="rapor_tipi" readonly="1"/>
                        </group>
                    </group>
                    <group string="İmza Alanı (Yazı alanına tıklayarak temizleyip yeniden yazabilirsiniz)">
                        <field name="musteri_imzasi" widget="signature" nolabel="1"/>
                    </group>
                </sheet>
                <footer>
                    <button name="action_imza_kaydet" string="İmzayı Kaydet" type="object" class="btn-success"/>
                    <button string="İptal" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>
</odoo>